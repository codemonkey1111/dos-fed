(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{900:function(e,t,n){e.exports=n(5)(535)},935:function(e,t,n){"use strict";n.r(t),n.d(t,"initWeb3",(function(){return J}));var a=n(4),l=n.n(a),o=n(76),r=n(903),i=n(893),c=n(397),s=n(390),d=n(211),u=n(125),m=n.n(u),p=n(176),h=n.n(p),f=n(187),g=n.n(f),b=n(235),w=n(9),x=n(894);const y=n(385),E=n(386),v=n(387),k=o.a.div`
  max-width: 100vw;
  display: flex;
  min-height: 100vh;
  overflow: hidden;
  flex-direction: column;
  align-items: stretch;
  overflow: hidden;
`,j=o.a.div`
  display: flex;
  flex: 1;
  align-items: flex-end;
  margin: 1rem 4rem;
`,O=o.a.div`
  display: flex;
  align-items: center;
  flex-direction: row;
  justify-content: center;
  align-items: stretch;
`,S=o.a.div`
  display: flex;
  padding: 0.5rem 1rem;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  min-height: 30px;
  background: #f7f8fa;
  border-radius: 12px;
  color: #717171;
  border: 1px solid #e3e3e3;
`,C=o.a.div`
  display: flex;
  padding: 0.5rem 0.5rem 0.5rem 0;
  align-items: center;
  justify-content: center;
  color: red;
  font-size: 18px;
`,B=o.a.div`
  display: flex;
  align-items: center;
  flex-direction: column;
  justify-content: center;
`,I=o.a.div`
  display: flex;
  align-items: center;
  justify-content: center;
`,N=o.a.div`
  background: #baceff;
  border: 1px solid #005dc2;
  border-radius: 12px;
  box-shadow: rgb(123 41 41) 1px 1px 0px inset;
  display: flex;
  flex: 1 1 0%;
  flex-direction: column;
  overflow: hidden;
  width: 300px;
  justify-content: center;
  align-items: center;
  padding: 24px;
  margin-right: 20px;
`,F=o.a.img`
  width: 88px;
  height: 88px;
  margin: 24px 0;
`,A=o.a.label`
  color: rgb(250, 250, 250);
  font-size: 36px;
  font-weight: 700;
`,D=o.a.label`
  color: rgb(255, 232, 232);
`,M=o.a.div`
  display: flex;
  -webkit-box-pack: center;
  justify-content: space-between;
  margin-top: 48px;
  width: 100%;
  align-items: center;
`,P=o.a.button`
  -webkit-box-align: center;
  align-items: center;
  overflow: hidden;
  background-color: #baceff;
  border: 1px solid #005dc2;
  border-radius: 12px;
  color: rgba(0, 93, 154, 0.333);
  cursor: pointer;
  display: flex;
  font-size: 16px;
  font-weight: 700;
  height: 56px;
  -webkit-box-pack: center;
  justify-content: center;
  outline: none;
  padding-left: 24px;
  padding-right: 24px;
  pointer-events: none;
  width: 100%;
`,z=o.a.button`
  -webkit-box-align: center;
  align-items: center;
  overflow: hidden;
  background-color: #baceff;
  border: 1px solid #005dc2;
  border-radius: 12px;
  color: #005dc2;
  cursor: pointer;
  display: flex;
  font-size: 16px;
  font-weight: 700;
  height: 56px;
  -webkit-box-pack: center;
  justify-content: center;
  outline: none;
  padding-left: 24px;
  padding-right: 24px;
  width: 100%;
`,H=o.a.button`
  -webkit-box-align: center;
  align-items: center;
  overflow: hidden;
  background-color: #baceff;
  border: 1px solid #005dc2;
  border-radius: 12px;
  color: #005dc2;
  cursor: pointer;
  display: flex;
  font-size: 16px;
  font-weight: 700;
  height: 56px;
  -webkit-box-pack: center;
  justify-content: center;
  outline: none;
  padding-left: 24px;
  padding-right: 24px;
  width: 300px;
  margin-top: 20px;
`,R=o.a.button`
  -webkit-box-align: center;
  align-items: center;
  overflow: hidden;
  background-color: #baceff;
  border: 1px solid #005dc2;
  border-radius: 12px;
  color: #005dc2;
  cursor: pointer;
  display: flex;
  font-size: 16px;
  font-weight: 700;
  height: 56px;
  -webkit-box-pack: center;
  justify-content: center;
  outline: none;
  padding-left: 24px;
  padding-right: 24px;
  width: 100px;
`,T=o.a.div`
  margin: 24px 0;
  border: 1px solid #005dc2;
  border-radius: 12px;
  padding: 16px;
`,W=o.a.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,_=Object(x.a)({dappId:"dcc20d17-0e12-41e2-98f2-15638bef6241",networkId:1});let L=null,U=null;function J(e){const t=new m.a(e);return t.eth.extend({methods:[{name:"chainId",call:"eth_chainId",outputFormatter:t.utils.hexToNumber}]}),L=t,t}t.default=function(){const[,e]=Object(a.useState)(!1),[t,n]=Object(a.useState)(""),[o,u]=Object(a.useState)(null),[m,p]=Object(a.useState)(null),[f,x]=Object(a.useState)(null),[V,$]=Object(a.useState)(null),[,q]=Object(a.useState)(!1),[,G]=Object(a.useState)(1),[K,Q]=Object(a.useState)(new h.a(0)),[X,Y]=Object(a.useState)(new h.a(0)),[Z,ee]=Object(a.useState)(new h.a(0)),[te,ne]=Object(a.useState)(new h.a(0)),[ae,le]=Object(a.useState)(0),[oe,re]=Object(a.useState)(0),[ie,ce]=Object(a.useState)(!1),[se,de]=Object(a.useState)(!1),[ue,me]=Object(a.useState)(0),[pe,he]=Object(a.useState)(5),[fe,ge]=Object(a.useState)(0),[be,we]=Object(a.useState)(1),[xe,ye,Ee]=Object(d.a)(),ve="0x4c053c1cd9047263e70c9f731691aead7a56be94",ke="0x5251fF06Fc6EfA30AdA0e5560CA907AeE023Fb69",je="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",Oe=new Date(16413984e5);if((new Date).getTime()<16413984e5)return l.a.createElement("div",null,l.a.createElement(c.a,{provider:xe,loadWeb3Modal:ye,logoutOfWeb3Modal:Ee,address:t,setIsClaiming:e}),l.a.createElement("div",{style:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)",alignItems:"center",marginTop:80,justifyContent:"center",fontSize:60,color:"#005dc2"}},l.a.createElement("span",{style:{marginRight:10}},"Countdown"),l.a.createElement(i.a,{date:Oe})));Object(a.useEffect)(()=>{!async function(){try{if(!xe||void 0===xe)return;await Se(xe);const e=J(xe),t=(await e.eth.getAccounts())[0],a=await e.eth.net.getId(),l=await e.eth.chainId();u(e),q(!0),n(t),G(l),we(a),U=t;const o=new e.eth.Contract(y.abi,ve),r=new e.eth.Contract(E.abi,ke),i=new e.eth.Contract(v,je);p(o),x(r),$(i),Ce(t)}catch(e){console.error(e)}}()},[xe]);const Se=async e=>{e.on&&(e.on("accountsChanged",async e=>{n(e[0]),console.log(e[0]),console.log("account changed"),window.location.reload()}),e.on("chainChanged",async e=>{window.location.reload();const t=await o.eth.net.getId();G(e),we(t)}))};Object(a.useEffect)(()=>{t&&(m&&(Ae(),Ne()),f&&(Be(),Ie()))},[t,m,f]),Object(a.useEffect)(()=>{m&&f&&V&&Fe()},[V,m,f]);const Ce=async e=>{L.eth.getBalance(e).then(e=>{console.log(e,"balance"),me(+new h.a(e).dividedBy(1e18).toFixed(2))})},Be=async()=>{f.methods.earned(U).call().then(e=>{ee(new h.a(e))})},Ie=async()=>{f.methods.balanceOf(U).call().then(e=>{Y(new h.a(e)),re(new h.a(e).dividedBy(1e18).toNumber())})},Ne=async()=>{m.methods.balanceOf(U).call().then(e=>{ne(new h.a(e)),le(new h.a(e).div(1e18).toNumber())})},Fe=async()=>{const e=await m.methods.getReserves().call(),{reserve0:t}=e,n=await m.methods.totalSupply().call(),a=new h.a(t).multipliedBy(2).dividedBy(new h.a(n)),l=await f.methods.totalSupply().call();let o=await f.methods.rewardRate().call();o=new h.a(o);let r=await V.methods.getAmountsOut(new h.a(1e18),["0xc2acf7540f76a3cb389513b7128eb1e4d0d72391","0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"]).call();r=r[r.length-1];const i=o.multipliedBy(new h.a(r).multipliedBy(6048e20)).dividedBy(new h.a(l).multipliedBy(new h.a(a))).multipliedBy(52).dividedBy(1e34);ge(i.toNumber())},Ae=async()=>{m.methods.allowance(U,ke).call().then(e=>{Q(new h.a(e))})};return l.a.createElement(k,null,l.a.createElement("div",null,l.a.createElement(c.a,{provider:xe,loadWeb3Modal:ye,logoutOfWeb3Modal:Ee,address:t,setIsClaiming:e}),1!==be&&l.a.createElement(O,null,l.a.createElement(S,null,l.a.createElement(C,null,l.a.createElement(b.b,null)),"Please change your network to Ethereum Mainnet")),l.a.createElement(B,null,l.a.createElement("h1",null,"Eternal Lands"),l.a.createElement("h4",null,"Deposit ETH and earn DOS"),l.a.createElement(T,null,l.a.createElement(W,null,l.a.createElement(w.InputNumber,{style:{height:40,marginRight:20},value:ue,onChange:e=>{me(e||0)}}),l.a.createElement(R,{onClick:async()=>{let e=new h.a(0);const n=await m.methods.getReserves().call(),{reserve0:a,reserve1:l}=n;e=(e=new h.a(a).dividedBy(new h.a(l))).multipliedBy(new h.a(1+pe/100)).multipliedBy(new h.a(1e18)),f.methods.autoStakeETHPool2(new h.a(e).multipliedBy(new h.a(10).pow(18))).send({from:t,value:new h.a(ue).multipliedBy(new h.a(1e18))},(e,t)=>{if(e)w.message.error("stake error");else{const{emitter:e}=_.hash(t);e.on("all",e=>{const{status:t}=e;"confirmed"===t&&(Ce(U),Ie(),Be()),"pending"!==t&&ce(!1)})}}).then(console.log)}},"Deposit")),l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},"Slippage",l.a.createElement(w.Slider,{tipFormatter:e=>`${e}%`,defaultValue:5,style:{width:200},max:10,min:1,value:pe,onChange:e=>{console.log("e",e),he(e)}}))),l.a.createElement("h4",null,"Deposit ",l.a.createElement("a",{href:"https://app.uniswap.org/#/add/v2/ETH/0xc2acf7540f76a3cb389513b7128eb1e4d0d72391",target:"_blank"},"UNI_LP")," and earn DOS"),l.a.createElement("h3",{style:{margin:10}},"apy ",fe,"%"),l.a.createElement(I,null,l.a.createElement(N,null,l.a.createElement(F,{src:g.a}),l.a.createElement(A,null,Z.div(1e18).toNumber().toFixed(2)),l.a.createElement(D,null,"DOSs earned"),l.a.createElement(M,null,Z.toNumber()?l.a.createElement(z,{onClick:async()=>{f.methods.getRewardDOS().send({from:t},(e,t)=>{if(e)w.message.error("harvest error");else{const{emitter:e}=_.hash(t);e.on("all",e=>{const{status:t}=e;"confirmed"===t&&Be(),"pending"!==t&&de(!1)})}}).then(console.log)}},"Harvest"):l.a.createElement(P,null,"Harvest"))),l.a.createElement(N,null,l.a.createElement(F,{src:g.a}),l.a.createElement(A,null,X.div(1e18).toNumber().toFixed(2)),l.a.createElement(D,null,"UNI_LP Staked"),K.toNumber()?l.a.createElement(M,null,l.a.createElement(R,{onClick:()=>{de(!0)}},"unStake"),l.a.createElement(R,{onClick:()=>{ce(!0)}},"stake")):l.a.createElement(M,null,l.a.createElement(z,{onClick:async()=>{m.methods.approve(ke,r.a.constants.MaxUint256.toString()).send({from:t},(e,t)=>{if(e)w.message.error("approve error");else{const{emitter:e}=_.hash(t);e.on("all",e=>{const{status:t}=e;"confirmed"===t&&Ae()})}}).then(console.log)}},"Approve UNI_LP")))),X.toNumber()?l.a.createElement(H,{onClick:async()=>{f.methods.exitPool2().send({from:t},(e,t)=>{if(e)w.message.error("exit error");else{const{emitter:e}=_.hash(t);e.on("all",e=>{const{status:t}=e;"confirmed"===t&&(Ie(),Ne(),Be()),"pending"!==t&&de(!1)})}}).then(console.log)}},"Harvest & Withdraw"):null),l.a.createElement(j,null,l.a.createElement(s.a,null)),l.a.createElement(w.Modal,{title:null,footer:null,visible:ie,onOk:()=>{ce(!1)},onCancel:()=>{ce(!1)}},l.a.createElement(M,null,l.a.createElement(w.InputNumber,{style:{width:340,height:40},value:ae,min:0,max:+te.toNumber().toFixed(4),onChange:e=>{le(e||0)}}),l.a.createElement(R,{onClick:async()=>{f.methods.stakePool2(new h.a(ae).multipliedBy(new h.a(10).pow(18))).send({from:t},(e,t)=>{if(console.log(e,t),e)w.message.error("stake error");else{const{emitter:e}=_.hash(t);e.on("all",e=>{const{status:t}=e;"confirmed"===t&&(Ie(),Ne()),"pending"!==t&&ce(!1)})}}).then(console.log)}},"stake"))),l.a.createElement(w.Modal,{title:null,footer:null,visible:se,onOk:()=>{de(!1)},onCancel:()=>{de(!1)}},l.a.createElement(M,null,l.a.createElement(w.InputNumber,{style:{width:340,height:40},value:oe,min:0,max:+X.toNumber().toFixed(4),onChange:e=>{re(e||0)}}),l.a.createElement(R,{onClick:async()=>{f.methods.withdrawAndClaimPool2(new h.a(oe).times(new h.a(10).pow(18))).send({from:t},(e,t)=>{if(console.log(t),e)w.message.error("unStake error");else{const{emitter:e}=_.hash(t);e.on("all",e=>{const{status:t}=e;"confirmed"===t&&(Ie(),Ne()),"pending"!==t&&de(!1)})}}).then(console.log)}},"unStake")))))}}}]);